/**
 * System Page Styles - Rider-PC Dashboard
 * System status page-specific overrides (~140 lines)
 * ------------------------------------------------------------------
 */

/* Page container */
.system-shell {
  padding: var(--space-lg);
  max-width: 1200px;
  margin: 0 auto;
}

/* Header */
.system-shell header {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-xl);
}

.header-main { display: flex; flex-direction: column; gap: var(--space-xs); }
.system-shell header h1 { font-size: 1.4rem; margin: 0; }

/* Version info */
.version-info { display: flex; align-items: center; gap: var(--space-sm); font-size: var(--font-size-xs); }
.version-loading, .version-unavailable { color: var(--muted); font-style: italic; }
.version-branch { background: rgba(59, 130, 246, 0.2); color: #93c5fd; padding: 2px var(--space-sm); border-radius: var(--radius-xs); font-weight: var(--font-weight-medium); }
.version-commit { background: rgba(148, 163, 184, 0.15); color: var(--muted); padding: 2px var(--space-sm); border-radius: var(--radius-xs); font-family: var(--font-family-mono); cursor: pointer; }
.version-commit:hover { background: rgba(148, 163, 184, 0.25); }
.version-dirty { background: rgba(245, 158, 11, 0.2); color: #fbbf24; padding: 2px var(--space-sm); border-radius: var(--radius-xs); }

.system-links a { color: #93c5fd; text-decoration: none; margin-left: var(--space-md); font-size: 0.95rem; }
#status-line { font-size: var(--font-size-md); color: var(--muted); margin-bottom: var(--space-md); }

/* Location blocks */
.location-block { margin-bottom: var(--space-xxl); }

.location-title {
  font-size: 1.1rem;
  margin: 0 0 var(--space-md);
  padding: var(--space-sm) var(--space-md);
  background: rgba(59, 130, 246, 0.12);
  border-left: 3px solid #3b82f6;
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
}

#pi-services-block .location-title { background: rgba(34, 197, 94, 0.12); border-left-color: var(--color-ok); }
.network-title { background: rgba(147, 51, 234, 0.12); border-left-color: #a855f7; }

/* Services grid */
.services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: var(--space-md); }
.no-services { color: var(--muted); font-size: 0.9rem; padding: var(--space-lg); text-align: center; background: var(--card-bg); border-radius: var(--radius-md); border: 1px dashed var(--border); }

/* Service node card */
.service-node {
  background: var(--card-bg);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  font-size: var(--font-size-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  cursor: pointer;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  position: relative;
}

.service-node:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
.service-node h2 { font-size: 1rem; margin: 0; }
.service-node.is-active { border-color: var(--color-ok); }
.service-node.is-active:hover { box-shadow: 0 4px 12px rgba(34, 197, 94, 0.25); }
.service-node.is-failed { border-color: var(--color-error); }
.service-node.is-failed:hover { box-shadow: 0 4px 12px rgba(239, 68, 68, 0.25); }
.service-node.is-inactive { border-color: #6b7280; }
.service-node.is-busy { opacity: 0.6; pointer-events: none; }
.service-node.is-busy::after { content: ""; position: absolute; top: 50%; left: 50%; width: 24px; height: 24px; margin: -12px 0 0 -12px; border: 3px solid rgba(255, 255, 255, 0.3); border-top-color: var(--color-ok); border-radius: 50%; animation: c-spin 0.8s linear infinite; }

/* Status pills */
.status-pill { display: inline-flex; align-items: center; gap: var(--space-xs); padding: 2px var(--space-sm); border-radius: var(--radius-pill); font-size: var(--font-size-xs); text-transform: uppercase; letter-spacing: 0.04em; }
.status-running { background: #164; color: #f3faf5; border: 1px solid rgba(22, 102, 64, 0.6); }
.status-failed { background: #822; color: #fee; border: 1px solid rgba(130, 34, 34, 0.6); }
.status-inactive { background: #555; color: #f4f4f4; border: 1px solid rgba(85, 85, 85, 0.6); }
.status-unknown { background: #666; color: #f5f5f5; border: 1px solid rgba(102, 102, 102, 0.6); }

.edge-list { display: flex; flex-wrap: wrap; gap: var(--space-xxs); }
.edge-list span { background: rgba(59, 130, 246, 0.15); color: #bfdbfe; border-radius: var(--radius-sm); padding: 2px var(--space-xs); font-size: var(--font-size-xxs); }
.desc { color: var(--muted); font-size: var(--font-size-sm); }

/* Toast notifications */
#toast-container { position: fixed; bottom: var(--space-xl); right: var(--space-xl); z-index: 1000; display: flex; flex-direction: column; gap: var(--space-sm); }
.toast { padding: var(--space-md) var(--space-xl); border-radius: var(--radius-md); font-size: var(--font-size-md); max-width: 320px; box-shadow: var(--shadow-md); animation: toast-slide-in var(--transition-slow), toast-fade-out var(--transition-slow) 2.7s forwards; }
.toast.success { background: #166534; border: 1px solid var(--color-ok); }
.toast.error { background: #991b1b; border: 1px solid var(--color-error); }
@keyframes toast-slide-in { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes toast-fade-out { from { opacity: 1; } to { opacity: 0; } }

/* Log panel */
.log-panel { margin-top: var(--space-xxl); background: var(--card-bg); border: 1px solid var(--border); border-radius: var(--radius-md); overflow: hidden; }
.log-header { display: flex; align-items: center; justify-content: space-between; padding: var(--space-md) var(--space-lg); background: rgba(0, 0, 0, 0.2); border-bottom: 1px solid var(--border); }
.log-header h2 { font-size: 0.95rem; margin: 0; }
.log-terminal { font-family: var(--font-family-mono); font-size: var(--font-size-sm); line-height: var(--line-height-normal); background: #0a0f16; color: #c8d4e0; padding: var(--space-md) var(--space-lg); max-height: 280px; min-height: 120px; overflow-y: auto; }
.log-entry { padding: 2px 0; word-break: break-word; }
.log-timestamp { color: var(--muted); margin-right: var(--space-sm); }
.log-level { font-weight: var(--font-weight-semibold); margin-right: var(--space-sm); min-width: 48px; display: inline-block; }
.log-entry.log-info .log-level { color: var(--color-ok); }
.log-entry.log-warn .log-level { color: #f59e0b; }
.log-entry.log-error .log-level { color: var(--color-error); }

/* Network status */
.network-status-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: var(--space-md); }
.network-card { background: var(--card-bg); border: 2px solid var(--border); border-radius: var(--radius-md); padding: var(--space-md) var(--space-lg); transition: border-color var(--transition-normal); }
.network-card.is-online { border-color: var(--color-ok); }
.network-card.is-offline { border-color: var(--color-error); }
.network-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-sm); }
.network-label { font-size: var(--font-size-sm); color: var(--muted); text-transform: uppercase; letter-spacing: 0.05em; }
.network-status-indicator { width: 12px; height: 12px; border-radius: 50%; background: #6b7280; }
.network-status-indicator.is-online { background: var(--color-ok); box-shadow: 0 0 8px rgba(34, 197, 94, 0.5); }
.network-status-indicator.is-offline { background: var(--color-error); box-shadow: 0 0 8px rgba(239, 68, 68, 0.5); }
.network-value { font-size: 1.1rem; font-weight: var(--font-weight-semibold); display: flex; align-items: center; gap: var(--space-sm); }
.network-latency { font-size: var(--font-size-md); font-weight: var(--font-weight-normal); color: var(--muted); }
.network-host { font-size: var(--font-size-xs); color: var(--muted); margin-top: var(--space-xxs); font-family: var(--font-family-mono); }
#local-ip-card .network-value { font-family: var(--font-family-mono); }

/* Responsive */
@media (max-width: 640px) {
  .system-links { width: 100%; display: flex; gap: var(--space-lg); }
  .system-links a { margin-left: 0; }
  .log-terminal { max-height: 200px; font-size: var(--font-size-xs); }
  .network-status-grid { grid-template-columns: 1fr; }
}
