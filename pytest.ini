[pytest]
# Test discovery patterns
testpaths = tests pc_client/tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Asyncio configuration
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Force pytest to emit colors on capable terminals
addopts = --color=yes

# Timeout configuration
timeout = 30
timeout_method = thread

# Hide noisy third-party warnings in test output
filterwarnings =
    ignore:.*on_event is deprecated.*:DeprecationWarning
    ignore:.*on_event.*:DeprecationWarning:fastapi\..*
    ignore::DeprecationWarning:pc_client\.api\.server
    ignore::DeprecationWarning:fastapi\.applications
    ignore:.*websockets\.legacy.*:DeprecationWarning
    ignore:.*WebSocketServerProtocol is deprecated.*:DeprecationWarning
    ignore:.*remove second argument of ws_handler.*:DeprecationWarning
    ignore:.*FP16 is not supported on CPU.*:UserWarning

markers =
    api: Szybkie testy API/logiki (pc_client/tests itp.)
    ui: Testy E2E/UI w Playwright (tests/e2e)
